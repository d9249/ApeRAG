# Marketplace related schemas for Collection sharing and subscription

SharedCollectionConfig:
  type: object
  description: Configuration settings for shared collection features
  properties:
    enable_vector:
      type: boolean
      description: Whether vector search is enabled
      default: true
    enable_fulltext:
      type: boolean
      description: Whether fulltext search is enabled
      default: true
    enable_knowledge_graph:
      type: boolean
      description: Whether knowledge graph is enabled
      default: true
    enable_summary:
      type: boolean
      description: Whether summary generation is enabled
      default: false
    enable_vision:
      type: boolean
      description: Whether vision processing is enabled
      default: false
  required:
    - enable_vector
    - enable_fulltext
    - enable_knowledge_graph
    - enable_summary
    - enable_vision

CollectionMarketplaceStatusEnum:
  type: string
  enum:
    - DRAFT
    - PUBLISHED
  description: Collection marketplace sharing status

SharedCollection:
  type: object
  description: Shared Collection information for marketplace users
  properties:
    id:
      type: string
      description: Collection ID
    title:
      type: string
      description: Collection title
    description:
      type: string
      nullable: true
      description: Collection description
    owner_user_id:
      type: string
      description: Original owner user ID
    owner_username:
      type: string
      nullable: true
      description: Original owner username
    subscription_id:
      type: string
      nullable: true
      description: Subscription record ID (has value if subscribed, null if not subscribed)
    gmt_subscribed:
      type: string
      format: date-time
      nullable: true
      description: Subscription time (only has value when subscribed)
    config:
      $ref: '#/SharedCollectionConfig'
      description: Collection configuration settings
  required:
    - id
    - title
    - owner_user_id
    - config

SharedCollectionList:
  type: object
  description: Shared Collection list response
  properties:
    items:
      type: array
      items:
        $ref: '#/SharedCollection'
      description: List of shared Collections
    total:
      type: integer
      description: Total count (for pagination)
    page:
      type: integer
      description: Current page number
    page_size:
      type: integer
      description: Page size
  required:
    - items
    - total
    - page
    - page_size

SharingStatusResponse:
  type: object
  description: Simple sharing status response
  properties:
    is_published:
      type: boolean
      description: Whether published to marketplace
    published_at:
      type: string
      format: date-time
      nullable: true
      description: Publication time, null when not published
  required:
    - is_published