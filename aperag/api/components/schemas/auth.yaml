login:
  type: object
  properties:
    username:
      type: string
      description: The username of the user
    password:
      type: string
      description: The password of the user

register:
  type: object
  description: The email of the user
  properties:
    token:
      type: string
      description: The invitation token
    email:
      type: string
      description: The email of the user
    username:
      type: string
      description: The username of the user
    password:
      type: string
      description: The password of the user

invitationCreate:
  type: object
  properties:
    username:
      type: string
      description: The username of the user
    email:
      type: string
      description: The email of the user
    role:
      type: string
      description: The role of the user (admin, rw, ro)
      enum: [admin, rw, ro]

invitationList:
  type: object
  description: A list of invitations
  properties:
    items:
      type: array
      items:
        $ref: '#/invitation'
    pageResult:
      $ref: './common.yaml#/pageResult'

invitation:
  type: object
  properties:
    email:
      type: string
      description: The email of the user
    token:
      type: string
      description: The token of the invitation
    created_by:
      type: string
      description: The ID of the user who created the invitation
    created_at:
      type: string
      description: The date and time the invitation was created
    is_valid:
      type: boolean
      description: Whether the invitation is valid
    used_at:
      type: string
      description: The date and time the invitation was used
    role:
      type: string
      description: The role of the user (admin, rw, ro)
      enum: [admin, rw, ro]
    expires_at:
      type: string
      description: The date and time the invitation will expire
  
user:
  type: object
  properties:
    id:
      type: string
      description: The ID of the user
    username:
      type: string
      description: The username of the user
    email:
      type: string
      description: The email of the user
    role:
      type: string
      description: The role of the user
    is_active:
      type: boolean
      description: Whether the user is active
    date_joined:
      type: string
      description: The date and time the user joined the system
    registration_source:
      type: string
      description: The registration source of the user (local, google, github, etc.)
    department_id:
      type: string
      description: The department ID the user belongs to
      nullable: true

userList:
  type: object
  description: A list of users
  properties:
    items:
      type: array
      items:
        $ref: '#/user'
    pageResult:
      $ref: './common.yaml#/pageResult'

changePassword:
  type: object
  properties:
    username:
      type: string
      description: The username of the user
    old_password:
      type: string
      description: The old password of the user
    new_password:
      type: string
      description: The new password of the user

department:
  type: object
  properties:
    id:
      type: string
      description: The ID of the department
    parent_id:
      type: string
      description: The parent department ID, -1 for root department
    name:
      type: string
      description: The name of the department
    status:
      type: integer
      description: The status of the department (0=inactive, 1=active)
      enum: [0, 1]
    group_path:
      type: string
      description: The hierarchical path of the department
    tenant_id:
      type: string
      description: The tenant ID this department belongs to
    created_at:
      type: string
      description: The date and time the department was created
    updated_at:
      type: string
      description: The date and time the department was last updated
    children:
      type: array
      items:
        $ref: '#/department'
      description: Child departments (only present in hierarchical mode)
      nullable: true

departmentList:
  type: object
  description: A list of departments
  properties:
    items:
      type: array
      items:
        $ref: '#/department'
    pageResult:
      $ref: './common.yaml#/pageResult'
